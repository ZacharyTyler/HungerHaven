(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{bb51:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home row justify-content-center"},[n("div",{staticClass:"col-md-6"},[n("img",{staticClass:"col-12",attrs:{alt:"Hunger Haven Logo",src:s("98c4")}}),n("h2",[t._v("Welcome back, "+t._s(t.user.name)+"!")]),n("div",{staticClass:"row justify-content-center"},[n("form",{staticClass:"mb-2",on:{submit:function(e){return e.preventDefault(),t.findEvent(e)}}},[n("label",{attrs:{for:"pin"}},[t._v("Enter Event PIN:")]),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.pin,expression:"pin"}],staticClass:"form-control",attrs:{type:"string",id:"PIN",placeholder:"ex:12345"},domProps:{value:t.pin},on:{input:function(e){e.target.composing||(t.pin=e.target.value)}}}),t._m(0)])])]),n("div",{staticClass:"row justify-content-center"},[n("div",[n("div",{staticClass:"card",staticStyle:{width:"18rem"}},[n("div",{staticClass:"card-header card-bg"},[t._v("My Events:")]),n("ul",{staticClass:"list-group list-group-flush scroll"},t._l(t.user.events,(function(t){return n("ListEvent",{key:t,staticClass:"list-group-item",attrs:{eventProp:t}})})),1)]),n("div",{staticClass:"row justify-content-center"},[n("button",{staticClass:"home-button mt-2",on:{click:function(e){return t.goHost()}}},[t._v("Host an Event")])])])]),n("div",{staticClass:"row justify-content-center"},[n("button",{staticClass:"register-button",on:{click:function(e){return t.goEdit()}}},[t._v("Edit Your Profile")])]),n("div",{staticClass:"row justify-content-center"},[n("button",{staticClass:"logout-button",on:{click:t.logout}},[t._v("Logout")])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn home-button",attrs:{type:"submit"}},[t._v("üçï")])])}],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"listEvent",on:{click:function(e){return t.findEventFromList(t.eventProp)}}},[t._v("\n  Pin: "+t._s(t.eventProp)+"\n  "),s("br"),t.event?s("span",[t._v("\n    Time:\n    "),s("br"),t._v("\n    "+t._s(this.event.month)+"/"+t._s(this.event.day)+"/"+t._s(this.event.year)+"\n    "),s("br"),t._v("\n    "+t._s(t.event.hours)+t._s(t.event.minutes)+" "+t._s(t.event.ampm)+"\n  ")]):t._e(),s("br"),t.event?s("span",[t._v("Place: "+t._s(t.event.place))]):t._e()])},r=[],a={name:"listEvent",data(){return{}},mounted(){this.$store.dispatch("getEventForList",{pin:this.eventProp})},computed:{event(){for(let t=0;t<this.$store.state.events.length;t++)if(this.$store.state.events[t].pin==this.eventProp)return this.$store.state.events[t]}},methods:{findEventFromList(t){this.event.hostId==this.$store.state.user._id?this.$router.push("/host/"+t):this.$router.push("/guest/"+t)}},components:{},props:["eventProp"]},c=a,u=s("2877"),l=Object(u["a"])(c,o,r,!1,null,"d952a1ea",null),v=l.exports,h=s("8055"),p=s.n(h),d={name:"home",components:{ListEvent:v},data(){return{pin:"",socket:p()("localhost:3001")}},mounted(){this.$store.dispatch("authenticate")},computed:{user(){return this.$store.state.user}},methods:{logout(){this.$store.dispatch("logout")},goEdit(){this.$router.push("/edit")},goHost(){this.$router.push("/create")},addListItem(){},findEvent(){this.$store.dispatch("getEventInfo",{pin:this.pin}).then(t=>{this.$store.state.event.pin?(this.$store.dispatch("setPending",{eventId:this.$store.state.event._id,name:this.user.name,allergies:[],phoneNumber:this.user.phoneNumber}),this.socket.emit("SEND_ADDATTENDEE",{eventId:this.$store.state.event._id,name:this.user.name,allergies:[],phoneNumber:this.user.phoneNumber}),this.$router.push("/guest/"+this.pin)):console.log("Ah ah ah, you didn't say the magic word.")})}}},m=d,f=(s("cccb"),Object(u["a"])(m,n,i,!1,null,null,null));e["default"]=f.exports},cccb:function(t,e,s){"use strict";var n=s("d563"),i=s.n(n);i.a},d563:function(t,e,s){}}]);
//# sourceMappingURL=home.a6707ea2.js.map